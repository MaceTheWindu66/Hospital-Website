// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
  provider   = "prisma-client-js"
  output     = "../.prisma/client"
  engineType = "binary"
}

datasource db {
  provider = "postgresql"
  url      = env("POSTGRES_URL")
}

// example table used in the express router example
model HighScore {
  id    Int      @id @default(autoincrement())
  time  DateTime
  score Int
}

model Edge {
  edgeID      String @id
  startNodeID String
  endNodeID   String

  startNode Node @relation("startNode", fields: [startNodeID], references: [nodeID], onDelete: Cascade)
  endNode   Node @relation("endNode", fields: [endNodeID], references: [nodeID], onDelete: Cascade)
}

model Node {
  nodeID    String @id
  xcoord    Int
  ycoord    Int
  floor     String
  building  String
  nodeType  String
  longName  String
  shortName String

  startEdges Edge[] @relation("startNode")
  endEdges   Edge[] @relation("endNode")
}

model ServiceRequest {
  formID       Int    @id @default(autoincrement())
  receiverName String
  senderName   String
  priority     String
  status       String
  roomNumber   Int

  FlowerForm FlowerForm? @relation("FlowerForm")
  GiftForm   GiftForm?   @relation("GiftForm")
}

model FlowerForm {
  ServiceRequest ServiceRequest @relation("FlowerForm", fields: [formID], references: [formID])
  formID         Int            @id
  flowerType     String
  message        String
}

model GiftForm {
  ServiceRequest ServiceRequest @relation("GiftForm", fields: [formID], references: [formID])
  formID         Int            @id
  giftType       String
  message        String
}
