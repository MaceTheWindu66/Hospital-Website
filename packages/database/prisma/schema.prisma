// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
  provider   = "prisma-client-js"
  output     = "../.prisma/client"
  engineType = "binary"
}

datasource db {
  provider = "postgresql"
  url      = env("POSTGRES_URL")
}

// example table used in the express router example
model HighScore {
  id    Int      @id @default(autoincrement())
  time  DateTime
  score Int
}

model Edge {
  edgeID      String @id
  startNodeID String
  endNodeID   String

  startNode Node @relation("startNode", fields: [startNodeID], references: [nodeID], onDelete: Cascade)
  endNode   Node @relation("endNode", fields: [endNodeID], references: [nodeID], onDelete: Cascade)
}

model Node {
  nodeID    String @id
  xcoord    Int
  ycoord    Int
  floor     String
  building  String
  nodeType  String
  longName  String
  shortName String

  startEdges Edge[] @relation("startNode")
  endEdges   Edge[] @relation("endNode")
}

model ServiceRequest {
  SRID         Int    @id @default(autoincrement())
  employeeName String
  priority     String
  location     String
  status       String
  serviceType  String

  FlowerServiceRequest FlowerServiceRequest? @relation("FlowerServiceRequest")
  // GiftServiceRequest   GiftServiceRequest?   @relation("GiftServiceRequest")
}

model FlowerServiceRequest {
  ServiceRequest ServiceRequest @relation("FlowerServiceRequest", fields: [SRID], references: [SRID])
  SRID           Int            @id
  flowerType     String
  receiverName   String
  date           String
}

// model GiftServiceRequest {
//   ServiceRequest ServiceRequest @relation("GiftServiceRequest", fields: [SRID], references: [SRID])
//   SRID           Int            @id
//   giftType       String
//   message        String
// }
